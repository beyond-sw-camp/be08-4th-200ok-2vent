(function(f,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(f=typeof globalThis<"u"?globalThis:f||self,e(f.Vue3KakaoMaps={},f.Vue))})(this,function(f,e){"use strict";const m=e.ref(!1),O=(u,M)=>{const c=document.createElement("script"),a=M!=null&&M.length>0?`&libraries=${M.join(",")}`:"";c.id="kakao-map-api-script",c.src=`//dapi.kakao.com/v2/maps/sdk.js?appkey=${u}&autoload=false${a}`,document.body.appendChild(c),c.onload=()=>{kakao.maps.load(()=>{m.value=!0})}},B=e.defineComponent({__name:"KakaoMap",props:{width:{default:"40rem"},height:{default:"30rem"},markerList:{},infoWindowList:{},markerCluster:{},lat:{},lng:{},level:{default:3},mapTypeId:{},draggable:{type:Boolean,default:!0},scrollwheel:{type:Boolean,default:!0},disableDoubleClick:{type:Boolean,default:!1},disableDoubleClickZoom:{type:Boolean,default:!1},projectionId:{default:"kakao.maps.ProjectionId.WCONG"},tileAnimation:{type:Boolean,default:!0},keyboardShortcuts:{type:[Boolean,Object]}},emits:["onLoadKakaoMap","onLoadKakaoMapMarkerCluster"],setup(u,{emit:M}){const c=u,a=M,t=e.ref(null),k=e.ref();e.provide("mapRef",k);const d=()=>{const r={center:new kakao.maps.LatLng(c.lat,c.lng),...c};t.value!==null&&(k.value=new window.kakao.maps.Map(t.value,r),a("onLoadKakaoMap",k.value))},h=e.ref(),o=r=>{var p,n;if(r.markers===void 0&&r.customOverlayProps===void 0)throw new Error("클러스터 할 입력값이 없습니다.");if(k.value!==null){if(r.markers!==void 0){const l=e.ref([]);(p=r.markers)==null||p.forEach(s=>{var y;const g=new kakao.maps.Marker({position:new kakao.maps.LatLng(s.lat,s.lng),image:s.image??void 0,title:s.title??void 0,draggable:typeof s.draggable=="boolean"?s.draggable:!1,clickable:typeof s.clickable=="boolean"?s.clickable:!1,zIndex:typeof s.zIndex=="number"?s.zIndex:0,opacity:s.opacity??1,altitude:s.altitude??0,range:s.range??void 0});(y=l.value)==null||y.push(g)}),h.value=new kakao.maps.MarkerClusterer({map:e.toRaw(k.value),...r,markers:l.value})}if(r.customOverlayProps!==void 0){const l=e.ref([]);(n=r.customOverlayProps)==null||n.forEach(s=>{var y;const g=new kakao.maps.CustomOverlay({position:new kakao.maps.LatLng(s.lat,s.lng),content:s.content,xAnchor:s.xAnchor,yAnchor:s.yAnchor,zIndex:s.zIndex,clickable:s.clickable});(y=l.value)==null||y.push(g)}),h.value=new kakao.maps.MarkerClusterer({map:e.toRaw(k.value),...r,markers:l.value})}a("onLoadKakaoMapMarkerCluster",h.value)}};e.onMounted(()=>{m.value&&(d(),c.markerCluster!==void 0&&o(c.markerCluster))}),e.watch(()=>m.value,r=>{r&&(d(),c.markerCluster!==void 0&&o(c.markerCluster))});const i=e.computed(()=>({width:isFinite(+c.width)?c.width+"px":c.width,height:isFinite(+c.height)?c.height+"px":c.height}));return e.watch([()=>c.lat,()=>c.lng],([r,p])=>{var n;(n=k.value)==null||n.panTo(new kakao.maps.LatLng(r,p))}),e.watch(()=>c.draggable,r=>{var p,n;r===void 0||r?(p=k.value)==null||p.setDraggable(!0):(n=k.value)==null||n.setDraggable(!1)}),e.watch(()=>c.level,r=>{var p,n;r===void 0?(p=k.value)==null||p.setLevel(3):(n=k.value)==null||n.setLevel(r)}),e.watch(()=>c.mapTypeId,r=>{var p,n;r===void 0?(p=k.value)==null||p.setMapTypeId(3):(n=k.value)==null||n.setMapTypeId(r)}),e.watch(()=>c.scrollwheel,r=>{var p,n;r===void 0?(p=k.value)==null||p.setZoomable(!0):(n=k.value)==null||n.setZoomable(r)}),e.watch(()=>c.projectionId,r=>{var p,n;r===void 0?(p=k.value)==null||p.setProjectionId(kakao.maps.ProjectionId.WCONG):(n=k.value)==null||n.setProjectionId(r)}),e.watch(()=>c.keyboardShortcuts,r=>{var p,n;r===void 0?(p=k.value)==null||p.setKeyboardShortcuts(!1):typeof r=="boolean"&&((n=k.value)==null||n.setKeyboardShortcuts(r))}),(r,p)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"kakaoMapRef",ref:t,style:e.normalizeStyle(i.value)},[c.markerList&&c.markerCluster===void 0?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:0},e.renderList(c.markerList,(n,l)=>(e.openBlock(),e.createBlock(e.unref(w),{key:n.key===void 0?l:n.key,lat:n.lat,lng:n.lng,"info-window":n==null?void 0:n.infoWindow,draggable:n.draggable,image:n.image,order:n.order,"order-bottom-margin":n.orderBottomMargin},null,8,["lat","lng","info-window","draggable","image","order","order-bottom-margin"]))),128)):e.createCommentVNode("",!0),c.infoWindowList&&c.markerCluster===void 0?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(c.infoWindowList,(n,l)=>(e.openBlock(),e.createBlock(e.unref(v),{key:n.key===void 0?l:n.key,lat:n.lat,lng:n.lng,content:n.content,visible:n.visible},null,8,["lat","lng","content","visible"]))),128)):e.createCommentVNode("",!0),e.renderSlot(r.$slots,"default")],4))}}),_={imageSrc:"https://t1.daumcdn.net/mapjsapi/images/2x/marker.png",imageWidth:29,imageHeight:42,imageOption:{}},w=e.defineComponent({__name:"KakaoMapMarker",props:{lat:{},lng:{},infoWindow:{},visible:{type:Boolean},image:{},title:{},draggable:{type:Boolean},clickable:{type:Boolean},zIndex:{},opacity:{},altitude:{},range:{},order:{},orderBottomMargin:{}},emits:["onLoadKakaoMapMarker","onClickKakaoMapMarker","dragEndKakaoMapMarker","mouseOverKakaoMapMarker","mouseOutKakaoMapMarker","deleteKakaoMapMarker"],setup(u,{emit:M}){const c=M,a=u,t=e.ref(),k=e.inject("mapRef"),d=l=>{if(l!=null){if(l.imageSrc===void 0)throw new Error("이미지 경로가 존재하지 않습니다.")}else l=_;const s=new Image;s.src=l.imageSrc;const g=new kakao.maps.MarkerImage(l.imageSrc,new kakao.maps.Size(l.imageWidth??s.width,l.imageHeight??s.height),l.imageOption);t.value!==void 0&&t.value.setImage(g)},h=l=>{if(a.lat===void 0||a.lng===void 0)throw new Error("marker의 위치가 없습니다.");const s=new kakao.maps.LatLng(a.lat,a.lng);t.value=new kakao.maps.Marker({position:s,title:a.title,draggable:a.draggable,clickable:a.clickable,zIndex:a.zIndex,opacity:a.opacity,altitude:a.altitude,range:a.range}),d(a.image),c("onLoadKakaoMapMarker",t.value),t.value.setMap(l),o(t.value),r(t.value),p(t.value),i(l,t.value)},o=l=>{kakao.maps.event.addListener(l,"click",()=>{c("onClickKakaoMapMarker")})},i=(l,s)=>{kakao.maps.event.addListener(s,"dragend",function(g){c("dragEndKakaoMapMarker",s)})},r=l=>{kakao.maps.event.addListener(l,"mouseover",()=>{c("mouseOverKakaoMapMarker")})},p=l=>{kakao.maps.event.addListener(l,"mouseout",()=>{c("mouseOutKakaoMapMarker")})},n=l=>`<div style="position:relative; bottom:${a.orderBottomMargin}">
        ${l}
      </div>`;return e.onBeforeUnmount(()=>{var l;c("deleteKakaoMapMarker",t),(l=t.value)==null||l.setMap(null)}),e.watch([()=>m.value,()=>k,()=>k==null?void 0:k.value],([l,s,g])=>{l&&s!==void 0&&g!==void 0&&h(g)},{immediate:!0}),e.watch([()=>a.lat,()=>a.lng],([l,s])=>{var g;m.value&&((g=t.value)==null||g.setPosition(new kakao.maps.LatLng(l,s)))}),e.watch([()=>a.image],()=>{d(a.image)}),e.watch(()=>a.title,l=>{var s;l!==void 0&&((s=t.value)==null||s.setTitle(l))}),e.watch(()=>a.draggable,l=>{var s;(s=t.value)==null||s.setDraggable(l!==void 0&&l)}),e.watch(()=>a.clickable,l=>{var s;(s=t.value)==null||s.setDraggable(l!==void 0&&l)}),e.watch(()=>a.zIndex,l=>{var s;l!==void 0&&isFinite(l)&&((s=t.value)==null||s.setZIndex(Number(l)))}),e.watch(()=>a.opacity,l=>{var s,g;l!==void 0&&isFinite(l)?(s=t.value)==null||s.setOpacity(Number(l)):(g=t.value)==null||g.setOpacity(1)}),(l,s)=>{var g,y,C;return e.openBlock(),e.createElementBlock("div",null,[l.$slots.infoWindow?(e.openBlock(),e.createBlock(e.unref(v),{key:0,marker:t.value,lat:a.lat,lng:a.lng,visible:(g=a==null?void 0:a.infoWindow)==null?void 0:g.visible},{default:e.withCtx(()=>[e.renderSlot(l.$slots,"infoWindow")]),_:3},8,["marker","lat","lng","visible"])):a.infoWindow?(e.openBlock(),e.createBlock(e.unref(v),{key:1,marker:t.value,lat:a.lat,lng:a.lng,content:(y=a==null?void 0:a.infoWindow)==null?void 0:y.content,visible:(C=a==null?void 0:a.infoWindow)==null?void 0:C.visible},null,8,["marker","lat","lng","content","visible"])):e.createCommentVNode("",!0),a.order?(e.openBlock(),e.createBlock(e.unref(L),{key:2,lat:a.lat,lng:a.lng,"y-anchor":0,content:n(a.order)},null,8,["lat","lng","content"])):e.createCommentVNode("",!0)])}}}),E={key:0},v=e.defineComponent({__name:"KakaoMapInfoWindow",props:{lat:{},lng:{},marker:{},content:{},disableAutoPan:{type:Boolean},removable:{type:Boolean,default:!1},zIndex:{},altitude:{},range:{default:500},visible:{type:Boolean,default:!0}},emits:["onLoadKakaoMapInfoWindow"],setup(u,{emit:M}){const c=M,a=u,t=e.ref(),k=e.ref(),d=e.inject("mapRef"),h=o=>{var r,p;if(a.lat===void 0||a.lng===void 0)throw new Error("infoWindow의 위치가 없습니다.");const i=new kakao.maps.LatLng(a.lat,a.lng);t.value=new kakao.maps.InfoWindow({position:i,content:k.value??a.content??"",removable:a.removable,disableAutoPan:a.disableAutoPan,zIndex:a.zIndex,altitude:a.altitude,range:a.range}),a.visible&&(c("onLoadKakaoMapInfoWindow",t.value),a.marker!==void 0?(r=t==null?void 0:t.value)==null||r.open(o,a.marker):(p=t==null?void 0:t.value)==null||p.open(o))};return e.onBeforeUnmount(()=>{(t==null?void 0:t.value)!==null&&t.value!==void 0&&t.value.close()}),e.watch([()=>m.value,()=>d==null?void 0:d.value,()=>m,()=>d],([o,i])=>{a.visible&&o&&i!==void 0&&i!==null&&h(i)},{immediate:!0}),e.watch(()=>a.marker,o=>{var i,r,p;!a.visible||(d==null?void 0:d.value)===void 0||(t.value!=null&&((i=t.value)==null||i.close()),o!==void 0?(r=t==null?void 0:t.value)==null||r.open(d==null?void 0:d.value,o):(p=t==null?void 0:t.value)==null||p.open(d==null?void 0:d.value))},{immediate:!0}),e.watch([()=>k==null?void 0:k.value,()=>k],([o])=>{var i;o!==void 0&&t.value!==void 0&&t.value!==null&&((i=t.value)==null||i.setContent(o))},{deep:!0}),e.watch([()=>a.lat,()=>a.lng],([o,i])=>{var r;(r=t.value)==null||r.setPosition(new kakao.maps.LatLng(o,i))}),e.watch(()=>a.content,o=>{var i;(i=t.value)==null||i.setContent(o??"")}),e.watch(()=>a.zIndex,o=>{var i;(i=t.value)==null||i.setZIndex(o??0)}),e.watch(()=>a.altitude,o=>{var i;(i=t.value)==null||i.setAltitude(o??0)}),e.watch(()=>a.range,o=>{var i;(i=t.value)==null||i.setRange(o??500)}),e.watch(()=>a.visible,o=>{o?m!=null&&m.value&&(d==null?void 0:d.value)!==void 0&&(d==null?void 0:d.value)!==null&&h(d.value):(t==null?void 0:t.value)!==null&&t.value!==void 0&&t.value.close()}),(o,i)=>a.content&&a.content.length>0||o.$slots.default?(e.openBlock(),e.createElementBlock("div",E,[o.$slots.default?(e.openBlock(),e.createElementBlock("div",{key:0,ref_key:"contentSlot",ref:k},[e.renderSlot(o.$slots,"default")],512)):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)}}),I={key:0},L=e.defineComponent({__name:"KakaoMapCustomOverlay",props:{lat:{},lng:{},content:{},xAnchor:{default:.5},yAnchor:{default:.5},zIndex:{},clickable:{type:Boolean,default:!1},visible:{type:Boolean,default:!0}},emits:["onLoadKakaoMapCustomOverlay"],setup(u,{emit:M}){const c=M,a=u,t=e.ref(),k=e.ref(),d=e.inject("mapRef"),h=o=>{if(a.lat===void 0||a.lng===void 0)throw new Error("KakaoMapCustomOverlay의 위치가 없습니다.");const i=new kakao.maps.LatLng(a.lat,a.lng);t.value=new kakao.maps.CustomOverlay({position:i,content:k.value??a.content??"",xAnchor:a.xAnchor,yAnchor:a.yAnchor,zIndex:a.zIndex,clickable:a.clickable}),a.visible&&(t.value.setMap(o),c("onLoadKakaoMapCustomOverlay",t.value))};return e.onBeforeUnmount(()=>{var o;t.value!==null&&((o=t.value)==null||o.setMap(null))}),e.watch([()=>m.value,()=>d==null?void 0:d.value,()=>m,()=>d],([o,i])=>{a.visible&&o&&i!==void 0&&i!==null&&h(i)},{immediate:!0}),e.watch([()=>k==null?void 0:k.value,()=>k],([o])=>{var i;o!==void 0&&t.value!==void 0&&t.value!==null&&((i=t.value)==null||i.setContent(o))},{deep:!0}),e.watch([()=>a.lat,()=>a.lng],([o,i])=>{var r;(r=t.value)==null||r.setPosition(new kakao.maps.LatLng(o,i))}),e.watch(()=>a.content,o=>{var i;(i=t.value)==null||i.setContent(o??"")}),e.watch(()=>a.zIndex,o=>{var i;(i=t.value)==null||i.setZIndex(o??0)}),e.watch(()=>a.visible,o=>{var i;o?m!=null&&m.value&&(d==null?void 0:d.value)!==void 0&&(d==null?void 0:d.value)!==null&&h(d.value):(t==null?void 0:t.value)!==null&&t.value!==void 0&&((i=t.value)==null||i.setMap(null))}),(o,i)=>a.content&&a.content.length>0||o.$slots.default?(e.openBlock(),e.createElementBlock("div",I,[o.$slots.default?(e.openBlock(),e.createElementBlock("div",{key:0,ref_key:"contentSlot",ref:k},[e.renderSlot(o.$slots,"default")],512)):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)}}),b=e.defineComponent({__name:"KakaoMapPolyline",props:{latLngList:{},endArrow:{type:Boolean},strokeWeight:{default:3},strokeColor:{default:"#F10000"},strokeOpacity:{default:.6},strokeStyle:{default:"solid"},zIndex:{}},emits:["onLoadKakaoMapPolyline"],setup(u,{emit:M}){const c=M,a=u,t=e.inject("mapRef"),k=e.ref(),d=e.computed(()=>a.latLngList.map(o=>new kakao.maps.LatLng(o.lat,o.lng))),h=o=>{k.value=new kakao.maps.Polyline({path:d.value,endArrow:a.endArrow,strokeWeight:a.strokeWeight,strokeColor:a.strokeColor,strokeOpacity:a.strokeOpacity,strokeStyle:a.strokeStyle,zIndex:a.zIndex}),k.value.setMap(o),c("onLoadKakaoMapPolyline",k.value)};return e.watch([()=>m.value,()=>t==null?void 0:t.value,()=>m,()=>t],([o,i])=>{o&&i!==void 0&&i!==null&&h(i)},{immediate:!0}),e.watch(()=>a.latLngList,()=>{var o;(o=k.value)==null||o.setPath(d.value)},{deep:!0}),e.watch(()=>a.endArrow,()=>{var o;(o=k.value)==null||o.setMap(null),t!==void 0&&h(t.value)}),e.watch([()=>a.strokeWeight,()=>a.strokeColor,()=>a.strokeOpacity,()=>a.strokeStyle],([o,i,r,p])=>{var n;(n=k.value)==null||n.setOptions({strokeWeight:o,strokeColor:i,strokeOpacity:r,strokeStyle:p})}),e.watch(()=>a.zIndex,o=>{var i;o!==void 0&&((i=k.value)==null||i.setZIndex(o))}),e.onBeforeUnmount(()=>{var o;(o=k.value)==null||o.setMap(null)}),(o,i)=>(e.openBlock(),e.createElementBlock("div",null,[e.renderSlot(o.$slots,"default")]))}}),P={key:0},$={key:1},K=e.defineComponent({__name:"KakaoMapMarkerPolyline",props:{markerList:{},endArrow:{type:Boolean},strokeWeight:{},strokeColor:{},strokeOpacity:{},strokeStyle:{},zIndex:{},showMarkerOrder:{type:Boolean}},emits:["onLoadKakaoMapMarker","onClickKakaoMapMarker","dragEndKakaoMapMarker","mouseOverKakaoMapMarker","mouseOutKakaoMapMarker","deleteKakaoMapMarker"],setup(u,{emit:M}){const c=M,a=u,t=e.inject("mapRef"),k=e.ref([]),d=r=>{k.value.push(r),c("onLoadKakaoMapMarker",r)},h=r=>{const p=k.value.indexOf(r);k.value.splice(p,1),c("deleteKakaoMapMarker",r)},o=r=>{const p=a.markerList,n=k.value.indexOf(r);p[n].lat=r.getPosition().getLat(),p[n].lng=r.getPosition().getLng(),c("dragEndKakaoMapMarker",r)},i=(r,p)=>`<div style="position:relative; bottom:${p}">
        ${r}
      </div>`;return(r,p)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[a.markerList&&e.unref(t)!==null?(e.openBlock(),e.createElementBlock("div",P,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.markerList,(n,l)=>(e.openBlock(),e.createBlock(e.unref(w),{id:l,key:n.key===void 0?l:n.key,map:e.unref(t),lat:n.lat,lng:n.lng,draggable:n.draggable,clickable:n.clickable,image:n.image,onOnLoadKakaoMapMarker:d,onDragEndKakaoMapMarker:o,onDeleteKakaoMapMarker:h,onOnClickKakaoMapMarker:s=>c("onClickKakaoMapMarker",n),onMouseOverKakaoMapMarker:s=>c("mouseOverKakaoMapMarker",n),onMouseOutKakaoMapMarker:s=>c("mouseOutKakaoMapMarker",n)},null,8,["id","map","lat","lng","draggable","clickable","image","onOnClickKakaoMapMarker","onMouseOverKakaoMapMarker","onMouseOutKakaoMapMarker"]))),128)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.markerList,(n,l)=>(e.openBlock(),e.createElementBlock("div",{key:l},[l!==a.markerList.length-1?(e.openBlock(),e.createBlock(e.unref(b),{key:0,latLngList:[{lat:a.markerList[l].lat,lng:a.markerList[l].lng},{lat:a.markerList[l+1].lat,lng:a.markerList[l+1].lng}],endArrow:a.endArrow,strokeWeight:a.strokeWeight,strokeColor:a.strokeColor,strokeOpacity:a.strokeOpacity,strokeStyle:a.strokeStyle,zIndex:a.zIndex},null,8,["latLngList","endArrow","strokeWeight","strokeColor","strokeOpacity","strokeStyle","zIndex"])):e.createCommentVNode("",!0)]))),128))])):e.createCommentVNode("",!0),a.markerList&&a.showMarkerOrder?(e.openBlock(),e.createElementBlock("div",$,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.markerList,(n,l)=>(e.openBlock(),e.createBlock(e.unref(L),{key:l,lat:n.lat,lng:n.lng,"y-anchor":0,content:i(n.order!==void 0?n.order:l,n.orderBottomMargin)},null,8,["lat","lng","content"]))),128))])):e.createCommentVNode("",!0),e.renderSlot(r.$slots,"default")],64))}}),S={install:u=>{u.component("KakaoMap",B),u.component("KakaoMapMarker",w),u.component("KakaoMapCustomOverlay",L),u.component("KakaoMapInfoWindow",v),u.component("KakaoMapMarkerPolyline",K),u.component("KakaoMapPolyline",b)}};f.KakaoMap=B,f.KakaoMapCustomOverlay=L,f.KakaoMapInfoWindow=v,f.KakaoMapMarker=w,f.KakaoMapMarkerPolyline=K,f.KakaoMapPolyline=b,f.Vue3KakaoMaps=S,f.isKakaoMapApiLoaded=m,f.useKakao=O,Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})});
