# be08-4th-200ok-2vent

![곧추가할포스터](https://github.com/user-attachments/assets/fda390d8-4c93-4387-a8ae-22b964dc43ce)


<div align="center">
  <br><b>:zap:한화시스템 BEYOND SW캠프 4차 devops 프로젝트:zap:</b></br></div>

  <br>
  <br>
  
## :hand: 팀원 소개
### TEAM 200ok
|<img src="https://github.com/user-attachments/assets/21f7bb3d-e531-4761-a049-de9409999c49" width="150" height="180"/>|<img src="https://github.com/user-attachments/assets/0a29e181-6324-428b-bbaf-d1933dba1e24" width="150" height="180"/>|<img src="https://github.com/user-attachments/assets/253fa4f8-2e33-4613-bc46-e5da7ae2b139" width="150" height="180"/>|<img src="https://github.com/user-attachments/assets/62b7f197-2584-428f-8418-33bd90867093" width="150" height="180"/>|<img src="https://github.com/user-attachments/assets/9b7b3b12-158b-45b4-aaec-f3364e723ae8" width="150" height="180"/>|
|:-:|:-:|:-:|:-:|:-:|
|박성준(팀장)<br><a href="https://github.com/sjpark-08"><img src="https://img.shields.io/badge/GitHub-181717?style=flat-square&logo=GitHub&logoColor=white"/></a>|김도하<br><a href="https://github.com/esueng"><img src="https://img.shields.io/badge/GitHub-181717?style=flat-square&logo=GitHub&logoColor=white"/></a>|서현지<br><a href=https://github.com/henhen7><img src="https://img.shields.io/badge/GitHub-181717?style=flat-square&logo=GitHub&logoColor=white"/></a>|전현규<br><a href="https://github.com/ideapple"><img src="https://img.shields.io/badge/GitHub-181717?style=flat-square&logo=GitHub&logoColor=white"/></a>|조혜인<br><a href="https://github.com/byHyen"><img src="https://img.shields.io/badge/GitHub-181717?style=flat-square&logo=GitHub&logoColor=white"/></a>|

<br><br>

<div align=center> 
  
## 🛠️ Tech Stack 🛠️

  <img src="https://img.shields.io/badge/html5-E34F26?style=for-the-badge&logo=html&logoColor=white"> 
  <img src="https://img.shields.io/badge/css-1572B6?style=for-the-badge&logo=css3&logoColor=white">
  <img src="https://img.shields.io/badge/javascript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black">
  <br>
  <img src="https://img.shields.io/badge/vue.js-4FC08D?style=for-the-badge&logo=vue.js&logoColor=white">
  <img src="https://img.shields.io/badge/springboot-6DB33F?style=for-the-badge&logo=springboot&logoColor=white"/>
  <img src="https://img.shields.io/badge/Java-ED8B00?style=for-the-badge&logo=openjdk&logoColor=white"/>
  <img src="https://img.shields.io/badge/-Swagger-%23Clojure?style=for-the-badge&logo=swagger&logoColor=white"/>
  <img src="https://img.shields.io/badge/mysql-4479A1?style=for-the-badge&logo=mysql&logoColor=white">
  <br>
  <img src="https://img.shields.io/badge/bootstrap-7952B3?style=for-the-badge&logo=bootstrap&logoColor=white">
  <img src="https://img.shields.io/badge/docker-2496ED?style=for-the-badge&logo=docker&logoColor=white">
  <img src="https://img.shields.io/badge/Redis-%23D92B21.svg?style=for-the-badge&logo=redis&logoColor=white"/>
  <img src="https://img.shields.io/badge/kubernetes-%23326ce5.svg?style=for-the-badge&logo=kubernetes&logoColor=white"/>
  <img src="https://img.shields.io/badge/Jenkins-D24939?style=for-the-badge&logo=jenkins&logoColor=white"/>
  <img src="https://img.shields.io/badge/nginx-009639?style=for-the-badge&logo=nginx&logoColor=white">


<br><br>

 
 ## ⚙️ Tool ⚙️

  <img src="https://img.shields.io/badge/github-181717?style=for-the-badge&logo=github&logoColor=white">
  <img src="https://img.shields.io/badge/Notion-000000?style=for-the-badge&logo=Notion&logoColor=white">
  <img src= "https://img.shields.io/badge/Visual%20Studio%20Code-0078d7.svg?style=for-the-badge&logo=visual-studio-code&logoColor=white">
  <img src="https://img.shields.io/badge/IntelliJ IDEA-%23FF9900?style=for-the-badge&logo=intellij idea&logoColor=white" />
  <img src="https://img.shields.io/badge/figma-F24E1E?style=for-the-badge&logo=figma&logoColor=white"/>

</div>

<br><br>


## 💡 프로젝트 소개

 **2VENT(지역 행사 커뮤니티)** <br>

* 사용자에게 주변과 타 지역의 행사 정보를 쉽고 빠르게 제공하는 서비스


* 사용자가 원하는 행사만을 쏙쏙 골라낼 수 있도록 도와줍니다!


* 지도를 이용해 우리나라 행사들의 위치정보를 알고 싶다면~? 행업튀로 고고!


* 지역별! 온라인과 오프라인! 유료와 무료! 등 다양한 조건을 필터링한 결과가 알고 싶다면? 행업튀로 고고!


* 지역별 게시판을 통한 자유로운 소통의 장을 경험하고 싶다면? 행업튀로 고고!


* 다양한 필터 기능을 통해 관심있는 행사만 빠르게 알아봅시다!


* 간편하고 재미있는 행사 탐색, 이제 2VENT와 함께하세요!


<br>

## 🔆 프로젝트 목적 및 기대효과
![행사 추이 그래프](https://github.com/user-attachments/assets/ca6589c9-646c-4566-ae24-881ef972d703)

최근 이벤트데이터센터 분석 결과, 코로나 19 이후 연간 이벤트 및 행사가 2022년도 대비 39%가량 증가하였습니다. 이것으로 코로나 이전 수준으로 회복되고 있는 것을 한 눈에 확인해볼 수 있습니다.
이처럼 많은 사람들이 행사에 참여하고 있는 것을 보고 쉽고 빠르게 사용자들의 관심사에 맞는 행사를 찾아주기 위해 프로젝트를 개발하게 되었습니다.

✔ 사용자들에게 주변과 타 지역의 행사 정보를 쉽고 빠르게 제공합니다.
<br> 

✔ 다양한 필터 기능을 통해 개인의 관심사에 맞는 행사를 손쉽게 찾을 수 있도록 합니다.
<br> 

✔ 지역별 게시판을 통해 사용자들이 특정 지역 행사에 대해 자유롭게 의견을 나누고, <br>   게시글과 댓글을 통해 활발하게 소통할 수 있는 커뮤니티를 구축합니다.
<br> 

✔ 사용자들은 행사 참여와 정보 교환의 편리함을 경험하고, 지역 사회의 활성화에 기여할 수 있습니다.

<br>

![link]https://github.com/beyond-sw-camp/be08-4th-200ok-2vent?tab=readme-ov-file#-%EB%B0%B0%ED%8F%AC-%ED%85%8C%EC%8A%A4%ED%8A%B8

## 📋 시스템 아키텍처
![image](https://github.com/user-attachments/assets/3ec78dc5-8d30-45fa-8213-d512a6155c6c)



<br><br>

## 📚 배포 시나리오

#### 1. 소스 코드 변경 및 Git Push

    - 소스 코드 업데이트 및 변경 사항 git에 push
    
#### 2. GItHub Webhook 트리거

    - github는 최신 버전의 프로젝트가 push 되면 Jenkins와 연동된 Webhook을 통해 변경된 프로젝트에 대한 HTTP 요청 전송
    
#### 3. Jenkins 파이프라인 실행
    1. Git 프로젝트 clone
        - Jenkins 서버는 HTTP 요청이 감지되면, github에 있는 프로젝트를 클론한다. ( git clone )
    2. 빌드 실행
        - 프론트엔드 프로젝트는 `npm run build` 명령어를 사용하여 빌드한다.
        - 백엔드 프로젝트는 `./gradlew build`  명령어를 사용하여 빌드한다.
    3. Docker image 생성
        - 생성된 빌드 파일로 Docker image를 생성한다.
    4. Docker Hub에 Docker image push
        - 생성된 Docker image를 Docker Hub에 push 한다.
    5. Kubernetes 배포 적용
        - 배포 컨테이너의 이미지를 생성된 Docker image로 업데이트한다.
    
#### 4. 무중단 배포 완료
    - 롤링 업데이트가 적용되어 유저는 중단없이 서비스에 접근 가능

<br><br>

## 🔧 배포 파일

#### FRONTEND CODE
 🔗 <a href="https://github.com/beyond-sw-camp/be08-4th-200ok-2vent/blob/jenkins-sj/frontend/Jenkinsfile">PIPELINE</a> <br>
 🔗 <a href="https://github.com/beyond-sw-camp/be08-4th-200ok-2vent/tree/main/k8s/frontend">k8s</a>


#### BACKEND CODE
 🔗 <a href="https://github.com/beyond-sw-camp/be08-4th-200ok-2vent/blob/jenkins-sj/backend/Jenkinsfile">PIPELINE</a> <br>
 🔗 <a href="https://github.com/beyond-sw-camp/be08-4th-200ok-2vent/tree/main/k8s/backend">k8s</a>


#### COMPOSE.YAML
``` YML
networks:
  pocket:
    external: true

services:
  mysql:
    image: 'mysql:latest'
    container_name: '2vent'
    environment:
      - 'MYSQL_DATABASE=2vent'
      - 'MYSQL_PASSWORD=1234'
      - 'MYSQL_ROOT_HOST='
      - 'MYSQL_ROOT_PASSWORD=1234'
      - 'MYSQL_USER=username'
    ports:
      - '3306:3306'
    restart: 'on-failure'

  redis:
    image: 'redis:latest'
    container_name: '2vent_redis'
    ports:
      - '6379:6379'

```

<br><br>


## ✨ 배포 테스트
<details>
  <summary>Jenkins Pipeline</summary>
  1️⃣ git에 push할 시 webhook 발생
  
  ![1번](https://github.com/user-attachments/assets/59296724-af8b-4099-a6c5-8af084b7ce7d)
  <br><br>
  2️⃣ CI/CD

  ![4번](https://github.com/user-attachments/assets/b366ea5c-25c9-4ffc-ac29-0ad9c28f26c7)
  <br><br>
  3️⃣ backend/frontend 중 변경된 사항이 없는 경우, build skip하고 변경된 것만 build
  <img width="1142" alt="02_변경사항X_빌드_스킵" src="https://github.com/user-attachments/assets/38e9928f-24ba-422a-8398-9e51b60b473f">
  <br><br>

  4️⃣ 배포가 완료되면 이미지 변경 확인
  - Backend
  <img width="940" alt="01-1-1_백엔드_배포전_이미지명" src="https://github.com/user-attachments/assets/2be065d8-c24b-4ac6-8064-b69135fb1351">
  <img width="940" alt="01-1-2_백엔드_배포후_이미지명" src="https://github.com/user-attachments/assets/32e5456b-2ec5-470f-ac6e-9d2cb39c671f">

  - Frontend
  <img width="942" alt="01-1-3_프론트엔드_배포전_이미지명" src="https://github.com/user-attachments/assets/4cfb2150-5d80-4ef6-b277-92b83d98c487">
  <img width="938" alt="01-1-4_프론트엔드_배포후_이미지명" src="https://github.com/user-attachments/assets/6e4a5b52-e143-44b9-9802-f83a70494417">
  <br><br>
  5️⃣ 작업 완료 후 discord webhook 발생
  <br>
  <img width="365" alt="04_디스코드_웹훅" src="https://github.com/user-attachments/assets/ff8a8206-1c17-4107-846e-0b2ea03ad0de">

 
</details>

<details>
  <summary>무중단 배포(Rolling Update)</summary>
  1️⃣ Backend
  <br>
  
  

  - Dashboard

    ![5번](https://github.com/user-attachments/assets/8444c0f7-323d-4359-9c21-6dc7016f2f23)
  <br><br>
  - 실행 화면(Swagger 타이틀 변경)

    ![2번](https://github.com/user-attachments/assets/1a8ea04d-8a63-462a-bb18-cf3358d59a87)

  <br><br>
  2️⃣ Frontend
  <br>
  - Dashboard
    
    ![6번](https://github.com/user-attachments/assets/f9fd8184-dc84-4e71-9b10-4523d2dfac6e)
  <br><br>
  - 실행 화면(메인 텍스트 변경)

    ![3번](https://github.com/user-attachments/assets/2b6841ca-66d4-4c8b-9ff7-31fdded69c23)

</details>

<details>
  <summary>실행 화면</summary>
  <br>
  
  

  - 메인 페이지
    
    <img width="1488" alt="메인 페이지" src="https://github.com/user-attachments/assets/475b9b12-d180-4e2e-921e-e13ed4253f13">

  <br><br>
  - 리스트 페이지 조회

    <img width="1491" alt="리스트" src="https://github.com/user-attachments/assets/2736a639-2f32-4fc7-85dd-ab653a4ba320">

  <br><br>
  - 게시글 작성 기능 테스트

    <img width="1501" alt="게시물작성" src="https://github.com/user-attachments/assets/785da058-7220-47b2-bbb9-7db7eaffb764">

  <br><br>
  - 회원 즐겨찾기 기능 테스트

    <img width="1491" alt="즐겨찾기" src="https://github.com/user-attachments/assets/4b5f8cd2-35a1-4cd7-92d4-ad825b22cfdf">


</details>
<br><br>


## 🍙 한줄 회고록
|&nbsp;&nbsp;&nbsp;&nbsp;팀&nbsp;원&nbsp;&nbsp;&nbsp;&nbsp;|회고|
|:----:|----|
|박성준|<br>Docker, Kubernetes, Jenkins를 활용한 CI/CD 구축을 경험해볼 수 있는 프로젝트였습니다. 다만 제약사항으로 인해 로컬에서 테스트한 것이 아쉽습니다. 팀원들 고생하셨습니다~<br>&nbsp;|
|김도하|<br>생각보다 시간이 많이 걸리고 배포에 대해 많은 부족함을 느껴 더욱 더 학습에 대한 필요성을 느낄 수 있었습니다. 최종 프로젝트에서는 배포 부분의 완성도를 높여 마무리 하고 싶습니다.<br>&nbsp;|
|서현지|<br>고생하셨습니다. 파이널 하러 갑쉬다~<br>&nbsp;|
|전현규|<br>devops에 배울 수 있는 좋은 기회였던 것 같습니다. 2주라는 기간 동안 다들 고생하셨습니다!<br>&nbsp;|
|조혜인|<br>2주도 안되는 짧은 기간동안 배포를 제대로 이해하기에는 부족했던 시간이었던것 같아 최종때 종합적으로 더 열심히 해보겠습니다 너무 고생하셨습니다<br>&nbsp;|

<br><br>
